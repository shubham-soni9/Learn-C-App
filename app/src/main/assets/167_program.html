<!DOCTYPE html>
<html lang="en">
<head>
    <!--Import Google Icon Font-->
    <link href="mt/fonts/material-icons.css" rel="stylesheet">
    <title>Bootstrap Case</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="bt/css/bootstrap.min.css">
    <script src="bt/js/jquery-1.4.2.min.js"></script>
    <script src="bt/js/bootstrap.min.js"></script>
    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="mt/css/materialize.min.css">
    <link rel="stylesheet" href="css/prism.css">
    <script src="js/prism.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
</head>
<body>
<!--Import jQuery before materialize.js-->
<script type="text/javascript" src="mt/js/jquery-3.2.1.min.js"></script>
<script src="mt/js/materialize.min.js"></script>

<div class="panel-group">
    <div class="panel panel-info">
        <div class="panel-heading">Program:</div>
        <!--Collapsable UI-->
        <pre> <code class="language-c">

#include&lt;stdio.h&gt;
#include&lt;conio.h&gt;

//Main Function
int main() {

	char *message,*emessage,*dmessage;

	int i,j=0,k,key,temp;

	clrscr();

	printf("\nEnter the key\n");

	scanf("%d",&key);

	key=key%26;

	printf("\nEnter message\n");

	fflush(stdin);

	gets(message);

	for (i=0;message[i]!=NULL;i++)

	  message[i]=tolower(message[i]);

	for (i=0;message[i]!=NULL;i++) {

		//printf("%c ",message[i]);

		if(message[i]==' ')

		    emessage[j++]=message[i]; else {

			if(message[i]>=48 && message[i]<=57) {

				temp=message[i]+key;

				if(temp>57)

				         emessage[j++]=48+(temp-58); else

				         emessage[j++]=temp;

			} else {

				if(message[i]>=97 && message[i]<=123) {

					temp=message[i]+key;

					if(temp>122)

					 emessage[j++]=97+(temp-123); else

					 emessage[j++]=temp;

				} else

				  emessage[j++]=message[i];

			}

			// printf("%c ",emessage[j]);

		}

	}

	emessage[j]='\0';

	printf("\n\n\nEncrypted message is\n\n");

	for (i=0;emessage[i]!=NULL;i++)

	  printf("%c",emessage[i]);

	//  printf("\n end");

	for (i=0,j=0;emessage[i]!=NULL;i++) {

		if(emessage[i]==' ')

		     dmessage[j++]=emessage[i]; else {

			if(emessage[i]>=48 && emessage[i]<=57) {

				temp=emessage[i]-key;

				if(temp<48)

				         dmessage[j++]=58-(48-temp); else

				         dmessage[j++]=temp;

			} else {

				if(emessage[i]>=97 && emessage[i]<=123) {

					temp=emessage[i]-key;

					if(temp<97)

					           dmessage[j++]=123-(97-temp); else

					           dmessage[j++]=temp;

				} else

				          dmessage[j++]=emessage[i];

			}

		}

	}

	dmessage[j]='\0';

	printf("\n\n\nRetrieved message is\n\n");

	for (i=0;dmessage[i]!=NULL;i++)

	  printf("%c",dmessage[i]);

	getch();

	return(0);

}


</code>
</pre>
    </div>
</div>

<div class="panel-group">
    <div class="panel panel-info">
        <div class="panel-heading">Output:</div>
        <!--Collapsable UI-->
        <pre> <code class="language-c">

Enter the key
3
Enter message
hello


Encrypted message is

khoor

Retrived message is

hello
</code>
</pre>
    </div>
</div>


</body>
</html>
